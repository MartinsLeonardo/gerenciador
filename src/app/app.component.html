<h1>Gerenciador
  <button (click)="novo()">
      Novo
  </button>
</h1>
<hr>
<h1>Turmas</h1>
<table style="width:100%">
  <tr>
      <th>Id</th>
      <th>Disciplina</th>
      <th>Ano</th> 
      <th>Professor</th>
      <th>Alunos</th>
      <th>Opções</th>
  </tr>

  <tr *ngFor="let turma of turmas">
      <td>{{turma.id}}</td>
      <td>{{turma.disciplina.nome}}</td> 
      <td>{{turma.ano}}</td>
      <td>{{turma.professor.nome}}</td>
      <td>{{turma.alunos}}</td>
      <td> 
          <button (click)="excluir(turma)">
              Excluir
          </button>
          <button (click)="editar(turma)">
              Editar
          </button>
      </td>
  </tr>
</table>



<div *ngIf="apresentar">
  <h2>Cadastrar</h2>
  <!--
  <form #cadastro="ngForm" (submit)="salvar()">
      <div>
          <label for="id">Id</label><br>
          <input type="number" id="id" name="id" [(ngModel)]="id" required>
      </div>
      
      <button type="submit" [disabled]="!cadastro.valid">Salvar</button>
      <button type="reset" (click)="cancelar()">Cancelar</button>
  </form>
-->
</div>

<div class="container">
    <h1>Disciplinas</h1>
    <hr>
    <div *ngIf="status_lista === false" class="alert alert-danger">
        <strong>Ops!</strong> Ocorreu um erro tentar acessar a API para consultar as disciplinas.
        Parece que o servidor está inacessível ou está recusando conexões. Por isso não será possível
        utilizar o sistema neste momento. Tente novamente dentro de alguns intantes
    </div>
    <div *ngIf="status_lista !== false">
        <div *ngIf="excluir_ok" class="alert alert-success">
            <strong>Sucesso!</strong> A disciplina foi excluída com sucesso.
        </div>

        <app-lista-de-disciplinas [disciplinas]="disciplinas" [editando]="editando"
                                  (onEditar)="editar($event)" (onExcluir)="excluir($event)">
        </app-lista-de-disciplinas>

        <h2>Cadastrar ou editar</h2>
        <p>Use este formulário para cadastrar ou editar uma disciplina.</p>
        <div *ngIf="salvar_ok" class="alert alert-success">
            <strong>Sucesso!</strong> Os dados da disciplina foram salvos com sucesso.
        </div>
        <app-editor-de-disciplina [disciplina]="editando" (onSalvar)="salvar()" (onCancelar)="cancelar()">
        </app-editor-de-disciplina>
    </div>
</div>
